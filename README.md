# ğŸ“ˆ Pythoné‡åŒ–äº¤æ˜“ç­–ç•¥æ¡†æ¶

[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![æ˜é‡‘é‡åŒ–](https://img.shields.io/badge/å¹³å°-æ˜é‡‘é‡åŒ–-orange.svg)](https://www.myquant.cn/)
[![é‡åŒ–æŠ•èµ„](https://img.shields.io/badge/é¢†åŸŸ-é‡åŒ–æŠ•èµ„-purple.svg)](https://mp.weixin.qq.com/s/PmfgMf8AaauF2mKwT96VLA)

**å…³é”®è¯**ï¼šé‡åŒ–äº¤æ˜“ã€è‚¡ç¥¨ç­–ç•¥ã€Pythoné‡åŒ–ã€æ˜é‡‘é‡åŒ–ã€å›æµ‹ç³»ç»Ÿã€é£é™©ç®¡ç†ã€ç®—æ³•äº¤æ˜“ã€é€‰è‚¡ç­–ç•¥ã€æ‹©æ—¶ç­–ç•¥

# jb_quanté‡åŒ–äº¤æ˜“ç­–ç•¥æ¡†æ¶

ä¸€ä¸ªåŸºäºæ˜é‡‘é‡åŒ–å¹³å°çš„æ¨¡å—åŒ–é‡åŒ–äº¤æ˜“ç­–ç•¥æ¡†æ¶ï¼Œé‡‡ç”¨é¢å‘å¯¹è±¡è®¾è®¡å’Œç­–ç•¥æ¨¡å¼ï¼Œæ”¯æŒçµæ´»çš„ç­–ç•¥ç»„ä»¶ç»„åˆå’Œæ‰©å±•ã€‚

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **ğŸ—ï¸ æ¨¡å—åŒ–æ¶æ„**ï¼šé‡‡ç”¨ç­–ç•¥æ¨¡å¼ï¼Œå„ä¸ªç»„ä»¶å¯ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•å’Œæ›¿æ¢
- **ğŸ“Š å¤šæ ·åŒ–ç­–ç•¥**ï¼šæ”¯æŒåŠ¨é‡ã€å‡å€¼å›å½’ã€æ³¢åŠ¨ç‡ç­‰å¤šç§é€‰è‚¡ç­–ç•¥
- **â° æ™ºèƒ½æ‹©æ—¶**ï¼šé›†æˆç§»åŠ¨å¹³å‡çº¿ã€RSIã€åŠ¨é‡ç­‰å¤šç§æ‹©æ—¶ç­–ç•¥
- **ğŸ›¡ï¸ å¤šå±‚é£æ§**ï¼šåŸºç¡€/ä¿å®ˆ/æ¿€è¿›ä¸‰ç§é£é™©ç®¡ç†æ¨¡å¼ï¼Œæ”¯æŒæ­¢ç›ˆæ­¢æŸ
- **ğŸ’¾ æ•°æ®ç®¡ç†**ï¼šæ”¯æŒå›ºå®šè‚¡ç¥¨æ± å’ŒæŒ‡æ•°æˆåˆ†è‚¡ï¼Œå†…ç½®æ™ºèƒ½ç¼“å­˜
- **âš¡ é«˜æ€§èƒ½**ï¼šä¼˜åŒ–æ•°æ®è®¿é—®æ€§èƒ½ï¼Œæ”¯æŒå¤šç§äº¤æ˜“æ‰§è¡Œæ–¹å¼

## ğŸ“ é¡¹ç›®ç»“æ„

```
jb_quant/
â”œâ”€â”€ main.py                    # ä¸»ç­–ç•¥å…¥å£æ–‡ä»¶
â”œâ”€â”€ requirements.txt           # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”‚
â”œâ”€â”€ config/                    # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ trading_config.py      # äº¤æ˜“é…ç½®ç±»
â”‚
â”œâ”€â”€ core/                      # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ base.py                # åŸºç¡€ç±»ï¼ŒåŒ…å«å®ä½“å¯¹è±¡å®šä¹‰ä¸æ¥å£å®šä¹‰
â”‚   â””â”€â”€ context.py             # ç­–ç•¥ä¸Šä¸‹æ–‡å¯¹è±¡ç±»
â”‚
â”œâ”€â”€ factor/                      # å¤šå› å­æ–‡ä»¶ç›®å½•ã€è®¡ç®—å¤šå› å­ä¿¡æ¯ã€‘
â”‚
â”œâ”€â”€ factory/                   # ç­–ç•¥å·¥å‚æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ strategy_factory.py    # ç­–ç•¥å·¥å‚ç±»
â”‚
â”œâ”€â”€ strategies/                  # ç­–ç•¥å®ç°ç›®å½•
â”‚   â”œâ”€â”€ timing_strategies/       # æ‹©æ—¶ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ base_timing.py       # åŸºç¡€æ‹©æ—¶ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ ma_timing.py         # ç§»åŠ¨å¹³å‡çº¿æ‹©æ—¶
â”‚   â”‚   â””â”€â”€ disabled_timing.py   # ç¦ç”¨æ‹©æ—¶ç­–ç•¥
â”‚   â”‚   â””â”€â”€ mom_timing.py        # åŠ¨é‡æ‹©æ—¶ç­–ç•¥
â”‚   â”‚   â””â”€â”€ rsi_timing.py        # RSIæ‹©æ—¶ç­–ç•¥
â”‚   â”‚
â”‚   â”œâ”€â”€ selection_strategies/ # é€‰è‚¡ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ base_selection.py            # åŸºç¡€é€‰è‚¡
â”‚   â”‚   â”œâ”€â”€ mean_reversion_selection.py  # å‡å€¼å›å½’é€‰è‚¡
â”‚   â”‚   â”œâ”€â”€ momentum_selection.py        # åŠ¨é‡é€‰è‚¡
â”‚   â”‚   â””â”€â”€ volatility_selection.py      # æ³¢åŠ¨ç‡é€‰è‚¡
â”‚   â”‚
â”‚   â””â”€â”€ risk_managers/       # é£é™©ç®¡ç†å™¨
â”‚       â”œâ”€â”€ base_risk.py     # åŸºç¡€é£æ§
â”‚       â”œâ”€â”€ conservative_risk.py  # ä¿å®ˆé£æ§
â”‚       â””â”€â”€ aggressive_risk.py    # æ¿€è¿›é£æ§
â”‚
â”œâ”€â”€ data/                            # æ•°æ®ç®¡ç†ç›®å½•
â”‚   â”œâ”€â”€ base_data_manager.py         # æ•°æ®ç®¡ç†å™¨åŸºç±»
â”‚   â”œâ”€â”€ fixed_data_manager.py        # å›ºå®šæ•°æ®ç®¡ç†å™¨åŸºç±»
â”‚   â””â”€â”€ index_data_manager.py        # æŒ‡æ•°æˆåˆ†è‚¡æ•°æ®ç®¡ç†å™¨åŸºç±»
â”‚
â”œâ”€â”€ trading/                  # äº¤æ˜“æ‰§è¡Œç›®å½•
â”‚   â”œâ”€â”€ base_executor.py      # äº¤æ˜“æ‰§è¡Œå™¨åŸºç±»
â”‚   â”œâ”€â”€ vmap_executor.py      # VWAPäº¤æ˜“æ‰§è¡Œå™¨
â”‚   â””â”€â”€ limit_executor.py     # é™ä»·æ‰§è¡Œå™¨ã€
â”‚
â”œâ”€â”€ strategy/                       # é‡åŒ–äº¤æ˜“ç­–ç•¥ç›®å½•
â”‚   â”œâ”€â”€ base_strategy.py            # ç­–ç•¥åŸºç±»
â”‚   â””â”€â”€ quantitative_strategy.py    # é‡åŒ–äº¤æ˜“ç­–ç•¥ä¸»ç±»
â”‚
â””â”€â”€ utils/                   # å·¥å…·ç±»ç›®å½•
    â”œâ”€â”€ logger.py            # æ—¥å¿—é…ç½®
    â”œâ”€â”€ cache_manager.py     # ç¼“å­˜ç®¡ç†å™¨
    â”œâ”€â”€ data_converter.py    # æ•°æ®è½¬æ¢å·¥å…·
    â””â”€â”€ performance_analyzer.py # æ€§èƒ½åˆ†æå™¨

```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

---
### å®‰è£… Python è¿è¡Œç¯å¢ƒå‚è€ƒï¼š  
[https://blog.csdn.net/fdsfsdfsdgfdhr/article/details/151198947?spm=1011.2415.3001.5331](https://blog.csdn.net/fdsfsdfsdgfdhr/article/details/151198947?spm=1011.2415.3001.5331)

### å®‰è£…æ˜é‡‘é‡åŒ–å®¢æˆ·ç«¯å‚è€ƒï¼š  
[https://blog.csdn.net/fdsfsdfsdgfdhr/article/details/151269368?spm=1011.2415.3001.5331](https://blog.csdn.net/fdsfsdfsdgfdhr/article/details/151269368?spm=1011.2415.3001.5331)

### å®‰è£…PyCharmç¼–ç¨‹è½¯ä»¶å‚è€ƒï¼š  
[https://blog.csdn.net/zhang120529/article/details/156021001](https://blog.csdn.net/zhang120529/article/details/156021001)

---

### 2. è·å–é¡¹ç›®å¹¶å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd jb_quant

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½®æ˜é‡‘Token

**æ–¹æ³•ä¸€ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶**
åœ¨ `config/trading_config.py` ä¸­è®¾ç½®ä½ çš„æ˜é‡‘token:

```python
token: str = 'ä½ çš„æ˜é‡‘token'
```

**æ–¹æ³•äºŒï¼šè®¾ç½®ç¯å¢ƒå˜é‡**
```bash
# Windows
set GM_TOKEN='ä½ çš„æ˜é‡‘token'
```

### 3. è¿è¡Œå›æµ‹

```bash
# åŸºç¡€å›æµ‹
python main.py

# æŒ‡å®šå›æµ‹å‚æ•°ï¼ˆé€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼‰
# åœ¨ trading_config.py ä¸­è®¾ç½®ï¼š
# - backtest_start: å›æµ‹å¼€å§‹æ—¶é—´
# - backtest_end: å›æµ‹ç»“æŸæ—¶é—´
# - initial_cash: åˆå§‹èµ„é‡‘
```

### 4. é…ç½®ç­–ç•¥ç»„åˆ

åœ¨ `trading_config.py` é…ç½®æ–‡ä»¶ä¸­è°ƒæ•´ç­–ç•¥ç»„åˆï¼š

```python
# ç¤ºä¾‹ï¼šåˆ›å»ºè‡ªå®šä¹‰ç­–ç•¥é…ç½®
data_manager_type="index",          # ä½¿ç”¨æŒ‡æ•°æˆåˆ†è‚¡
timing_strategy_type="ma",          # ç§»åŠ¨å¹³å‡çº¿æ‹©æ—¶
stock_selection_type="momentum",    # åŠ¨é‡é€‰è‚¡
risk_manager_type="conservative",   # ä¿å®ˆé£æ§
trade_executor_type="limit",        # é™ä»·äº¤æ˜“
stock_pool_size=20,                 # è‚¡ç¥¨æ± å¤§å°
max_positions=5,                    # æœ€å¤§æŒä»“æ•°
timing_enabled=True                  # å¯ç”¨æ‹©æ—¶
```

## âš™ï¸ é…ç½®è¯´æ˜

### æ ¸å¿ƒé…ç½®å‚æ•°

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `data_manager_type` | str | `"index"` | æ•°æ®ç®¡ç†å™¨ç±»å‹ï¼š`"fixed"`æˆ–`"index"` |
| `timing_strategy_type` | str | `"disabled"` | æ‹©æ—¶ç­–ç•¥ï¼š`"disabled"`ã€`"ma"`ã€`"rsi"`ã€`"momentum"` |
| `stock_selection_type` | str | `"momentum"` | é€‰è‚¡ç­–ç•¥ï¼š`"momentum"`ã€`"mean_reversion"`ã€`"volatility"` |
| `risk_manager_type` | str | `"base"` | é£æ§ç±»å‹ï¼š`"base"`ã€`"conservative"`ã€`"aggressive"` |
| `trade_executor_type` | str | `"base"` | äº¤æ˜“æ‰§è¡Œï¼š`"base"`ã€`"limit"`ã€`"vwap"` |

### é£é™©æ§åˆ¶å‚æ•°

```python
# æ­¢æŸæ­¢ç›ˆé…ç½®
stop_loss_rate = -0.08      # æ­¢æŸæ¯”ä¾‹ -8%
stop_profit_rate = 0.15     # æ­¢ç›ˆæ¯”ä¾‹ 15%
trailing_stop_rate = 0.05   # ç§»åŠ¨æ­¢ç›ˆæ¯”ä¾‹ 5%
max_position_ratio = 0.3    # å•åªè‚¡ç¥¨æœ€å¤§ä»“ä½ 30%
total_position_ratio = 0.95 # æ€»ä»“ä½é™åˆ¶ 95%
```

## ğŸ”§ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„é€‰è‚¡ç­–ç•¥

1. ç»§æ‰¿ `BaseStockSelectionStrategy` ç±»
2. å®ç° `select_stocks` å’Œ `calculate_score` æ–¹æ³•
3. åœ¨ `StrategyFactory` ä¸­æ³¨å†Œæ–°ç­–ç•¥

```python
class NewSelectionStrategy(BaseStockSelectionStrategy):
    def select_stocks(self, context, data_manager) -> List[StockInfo]:
        # å®ç°é€‰è‚¡é€»è¾‘
        pass
    
    def calculate_score(self, context, symbol, data_manager) -> float:
        # è®¡ç®—è‚¡ç¥¨å¾—åˆ†
        pass

# åœ¨ StrategyFactory ä¸­æ³¨å†Œ
@staticmethod
def create_stock_selection_strategy(config, selection_type=None):
    if selection_type == "new_strategy":
        return NewSelectionStrategy(config)
```

### æ·»åŠ æ–°çš„æ•°æ®æº

1. ç»§æ‰¿ `BaseDataManager` ç±»
2. å®ç° `get_stock_pool` æ–¹æ³•
3. åœ¨ `StrategyFactory` ä¸­æ³¨å†Œ

```python
class CustomDataManager(BaseDataManager):
    def get_stock_pool(self, context, size: int) -> List[str]:
        # å®ç°è‡ªå®šä¹‰è‚¡ç¥¨æ± è·å–é€»è¾‘
        pass

# åœ¨ StrategyFactory ä¸­æ³¨å†Œ
@staticmethod
def create_data_manager(config, selection_type=None):
    if selection_type == "new_data_manager":
        return CustomDataManager(config)
```

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

æ¡†æ¶å†…ç½®æ€§èƒ½åˆ†æå™¨ï¼Œæ”¯æŒï¼š

- **äº¤æ˜“ç»Ÿè®¡**ï¼šèƒœç‡ã€å¹³å‡æ”¶ç›Šã€æœ€å¤§æ”¶ç›Š/äºæŸ
- **é£é™©æŒ‡æ ‡**ï¼šå¤æ™®æ¯”ç‡ã€æœ€å¤§å›æ’¤
- **èµ„é‡‘æ›²çº¿**ï¼šæƒç›Šå˜åŒ–å¯è§†åŒ–ï¼ˆéœ€å®‰è£…matplotlibï¼‰

```python
# è·å–æ€§èƒ½æŠ¥å‘Š
analyzer = PerformanceAnalyzer()
summary = analyzer.get_summary()
print(f"æ€»äº¤æ˜“æ¬¡æ•°: {summary['total_trades']}")
print(f"èƒœç‡: {summary['win_rate']:.2%}")
print(f"å¤æ™®æ¯”ç‡: {summary['sharpe_ratio']:.2f}")
```
# ğŸ“ æ”¯æŒä¸è”ç³»

## ğŸ’¬ é—®é¢˜åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- **GitHub Issues**: [æäº¤é—®é¢˜æŠ¥å‘Š](issues)
- **æŠ€æœ¯äº¤æµç¾¤**: æ‰«æä¸‹æ–¹äºŒç»´ç åŠ å…¥
- **å¾®ä¿¡å…¬ä¼—å·**: å…³æ³¨è·å–æœ€æ–°æ›´æ–°å’Œæ•™ç¨‹

## ğŸŒŸ æ”¯æŒæˆ‘ä»¬

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿æ”¯æŒæˆ‘ä»¬çš„å¼€å‘å·¥ä½œï¼š

### 1. â­ **Star é¡¹ç›®**
åœ¨ GitHub/Gitee é¡µé¢å³ä¸Šè§’ç‚¹å‡» Starï¼Œè¿™æ˜¯å¯¹æˆ‘ä»¬æœ€å¤§çš„æ”¯æŒï¼

### 2. ğŸ› **å‚ä¸è´¡çŒ®**
- æäº¤ Bug æŠ¥å‘Š
- æå‡ºæ–°åŠŸèƒ½å»ºè®®
- å‚ä¸ä»£ç å¼€å‘

### 3. ğŸ’° **èµèµæ”¯æŒ**
æ‚¨çš„æ”¯æŒå°†å¸®åŠ©æˆ‘ä»¬æŒç»­ç»´æŠ¤å’Œæ”¹è¿›é¡¹ç›®ï¼š

|                                   å¾®ä¿¡èµèµ                                    |                               æ”¯ä»˜å®æ”¯æŒ                                |
|:-------------------------------------------------------------------------:|:------------------------------------------------------------------:|
| <img src="./images/weixin.jpg" alt="å¾®ä¿¡èµèµç " width="200" height="200"><br/> | <img src="./images/pay.jpg" alt="æ”¯ä»˜å®æ”¶æ¬¾ç " width="200" height="200"> |

**æ‰«ç æ”¯æŒå¼€å‘å·¥ä½œ** â†’ æ„Ÿè°¢æ‚¨çš„æ¯ä¸€ä»½æ”¯æŒï¼

## ğŸ“± å…³æ³¨æˆ‘ä»¬

**å¾®ä¿¡å…¬ä¼—å·** - è·å–æœ€æ–°æ•™ç¨‹ã€æŠ€æœ¯æ–‡ç« å’Œé¡¹ç›®æ›´æ–°ï¼š
<div align="center">
<img src="./images/gong.jpg" alt="å¾®ä¿¡å…¬ä¼—å·äºŒç»´ç " width="200" height="200">
</div>

**å…³æ³¨å…¬ä¼—å·è·å–**ï¼š
- ğŸ”” é¡¹ç›®æ›´æ–°é€šçŸ¥
- ğŸ“š é‡åŒ–äº¤æ˜“æ•™ç¨‹
- ğŸ’¡ ä½¿ç”¨æŠ€å·§åˆ†äº«
- ğŸ¯ å®æˆ˜æ¡ˆä¾‹è§£æ


### ç¤¾åŒºèµ„æº
- **Bilibili**: [è§†é¢‘æ•™ç¨‹](https://space.bilibili.com/524125327)

## ğŸ› ï¸ å•†åŠ¡åˆä½œ

å¦‚æœ‰å•†ä¸šåˆä½œéœ€æ±‚ï¼Œè¯·é‚®ä»¶è”ç³»ï¼š**2027429742@qq.com**

åˆä½œæ–¹å‘åŒ…æ‹¬ï¼š
- ğŸ“Š ä¼ä¸šçº§å®šåˆ¶å¼€å‘
- ğŸ¢ é‡åŒ–æŠ•ç ”ç³»ç»Ÿæ­å»º
- ğŸ“ é‡åŒ–äº¤æ˜“åŸ¹è®­åˆä½œ
- ğŸ”Œ ç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆ

## âš ï¸ æ³¨æ„
- ç´§æ€¥é—®é¢˜å¯é‚®ä»¶è”ç³»ï¼Œæ ‡é¢˜æ³¨æ˜ã€ç´§æ€¥ã€‘
- å•†åŠ¡åˆä½œé‚®ä»¶è¯·æ³¨æ˜ã€å•†åŠ¡åˆä½œã€‘

---

**æ„Ÿè°¢æ‚¨å¯¹ jb_quant æ¡†æ¶çš„æ”¯æŒï¼** ğŸš€

æ‚¨çš„æ¯ä¸€æ¬¡ Starã€æ¯ä¸€æ¬¡åé¦ˆã€æ¯ä¸€æ¬¡æ”¯æŒï¼Œéƒ½æ˜¯æˆ‘ä»¬æŒç»­æ”¹è¿›çš„åŠ¨åŠ›ï¼

---

> **æ¸©é¦¨æç¤º**: é‡åŒ–äº¤æ˜“æœ‰é£é™©ï¼ŒæŠ•èµ„éœ€è°¨æ…ã€‚æœ¬æ¡†æ¶ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚å®ç›˜äº¤æ˜“å‰è¯·å……åˆ†æµ‹è¯•ï¼Œå¹¶æ³¨æ„é£é™©æ§åˆ¶ã€‚

**ç›¸å…³æ ‡ç­¾**ï¼šé‡åŒ–äº¤æ˜“ Python è‚¡ç¥¨ç­–ç•¥ å›æµ‹ç³»ç»Ÿ ç®—æ³•äº¤æ˜“ é‡‘èç§‘æŠ€ æŠ•èµ„ç­–ç•¥ äº¤æ˜“ç³»ç»Ÿ é£é™©ç®¡ç† æ•°æ®æŒ–æ˜